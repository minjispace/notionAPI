# notion API

## notion API Breadcrumbs 만들어보기 


## table 구조
- page_id: 페이지의 고유 식별자로서 자동 증가
- title: 페이지의 제목을 저장하는 문자열 필드
- content: 페이지의 내용을 저장하는 텍스트 필드
- parent_page_id: 
    페이지가 속한 상위 페이지의 page_id를 나타내는 외래 키(Foreign Key)입니다.    이를 통해 페이지 간의 계층 구조를 나타낼 수 있다.

## 주요 접근 방식
1. 트리 구조 데이터베이스 사용: 페이지와 서브 페이지의 계층 구조를 나타내기 위해 데이터베이스에 트리 구조를 저장하는 것이 효율적입니다. 이를 위해 각 페이지는 부모 페이지의 ID를 가지고 있어야 합니다.

2. 인덱싱: 페이지 조회 API의 성능을 향상시키기 위해 데이터베이스에서 적절한 인덱스를 설정해야 합니다. 페이지 ID와 부모 페이지 ID에 대한 인덱스를 만들어 빠른 조회를 지원할 수 있습니다.

3. 재귀 쿼리: 페이지 및 브로드 크럼스 정보를 검색하는 데 재귀 쿼리를 사용할 수 있습니다. Common Table Expressions (CTE) 또는 재귀 함수를 사용하여 부모 페이지에서 자식 페이지로 이동하며 데이터를 가져올 수 있습니다.

4. 캐싱: 페이지 정보는 자주 변경되지 않는다면 캐싱을 고려할 수 있습니다. Redis 또는 Memcached와 같은 인메모리 캐싱 시스템을 사용하여 이전에 조회한 페이지 정보를 저장하고 빠르게 반환할 수 있습니다.

5. API 응답 최적화: API 응답을 최적화하여 필요한 데이터만 반환하도록 설계합니다. 예를 들어, 브로드 크럼스 정보를 미리 계산하고 캐시하거나, 서브 페이지 정보를 요청 시점에 필요한 만큼만 로드하도록 합니다.

6. 애플리케이션 레벨 캐싱: Express.js 애플리케이션에서도 캐싱을 사용할 수 있습니다. 캐싱된 데이터를 메모리에 유지하고 페이지 정보를 빠르게 반환하도록 구현합니다.